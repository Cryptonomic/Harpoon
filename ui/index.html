<html>
    <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    </head>

    <body onload="initialize()">
	<h1 style="text-align: left; display:inline-block"> Harpoon </h1>
	<p style="float:right">
	    Baker: <input type="text" id="baker"> </input>
	    <button onclick="updateBakerInfo(document.getElementById(&#39;baker&#39;).value)"> Search </button>
	    <br>
	</p>



	<table border="1" style="width:100%">
	    <tr>
		<td rowspan="2">
		    <h3 style="float:left" id="baker_name"> </h3> <h3 style="float:right" id="baker_grade"> --- </h3> <hr style="clear:both">
		    <p id="baker_last_bake">Time since last bake: </p>
		    <p id="baker_last_bake_level">Level of last bake: </p>
		    <p id="baker_blocks_baked">Lifetime locks baked: </p>
		    <p id="baker_next_bake">Time until next bake: </p>
		    <p id="baker_next_bake_level">Level of next bake: </p>
		    <p id="baker_blocks_baked_last_cycle">Blocks baked in cycle: </p>
		    <p id="baker_blocks_stolen">Blocks stolen in cycle: </p>
		    <p id="baker_blocks_missed">Blocks missed in cycle: </p>
		    <p id="baker_rewards">Rewards made in last cycle: </p>
		    <p id="baker_amount_staked">Amount staked: </p>
		    <p id="baker_amount_delegated">Amount delegated: </p>
		    <p id="baker_num_delegators">Number delegators: </p>
		    <p id="baker_blocks_per_stake">Blocks baked per XTZ: </p>
		    <p id="baker_luck">Luck in current cycle: </p>
		</td>
		<td>

		    <p style="margin: 5 0; text-align: center;"> <strong> Baker By Comparison </strong> </p>
		    <p style="margin: 5 0;"> Bakers by staking balances: </p>
		    <svg id="staking_balances_chart" width="1000" height="60"> </svg> 
		    <p style="margin: 5 0;"> Bakers by blocks baked in last cycle: </p>
		    <svg id="num_blocks_baked_chart" width="1000" height="60"> </svg> 
		</td>
	    </tr>
	    <tr>
		<td>
		    <p style="text-align: center;"> <strong> Block Production </strong> </p>
		    <p> Blocks Baked </p>
		    <svg id="blocks_baked_chart" width="1000" height="50"> </svg> 
		    <p> Blocks Stolen </p>
		    <svg id="blocks_stolen_chart" width="1000" height="50"> </svg> 
		    <p> Blocks Missed </p>
		    <svg id="blocks_missed_chart" width="1000" height="100"> </svg> 

		</td>
	    </tr>
	    <tr>
		<td colspan="2">
		    <button onclick="setPanel(&#39;performance&#39;)"> Performance </button>
		    <button onclick="setPanel(&#39;rewards&#39;)"> Rewards </button>
		    <div class="panel performance" style="display:block;">
			<div style="display:inline-block; text-align:center">
			    <strong> Performance </strong> <br>
			    <svg id="performance_table" width="900" height="500"> </svg>
			</div>
			<div style="display:inline-block; text-align:center">
			    <strong> Blocks Baker Per Hour </strong> <br>
			    <svg id="blocks_per_hour_graph" width="490" height="500""> </svg>
			</div>
		    </div> 
		    <div class="panel rewards" style="display:none">
			<div style="display:inline-block; text-align:center">
			    <strong> Rewards </strong> <br>
			    <svg id="rewards_table" width="1000" height="500"> </svg> <br>
			    <div style="display:inline-block;">
				<input type="text" id="delegator"> </input> <br>
				<strong> Delegator </strong> 
			    </div>
			    <div style="display:inline-block;">
				<input type="text" id="payout"> </input> <br>
				<strong> Payout </strong> 
			    </div>
			    <div style="display:inline-block;">
				<input type="text" id="fee"> </input> <br>
				<strong> Fee </strong> 
			    </div>
			    <div style="display:inline-block;">
				<input type="text" id="payout_delay"> </input> <br>
				<strong> Payout Delay </strong> 
			    </div>
			    <div style="display:inline-block;">
				<button id="calculate_rewards_button" onclick="calculateRewardsForDelegate()"> 
				    Calculate Rewards! 
				</button> <br> <br>
			    </div>
			</div>
			<div style="display:inline-block; text-align:center">
			    <strong> Rewards </strong> <br>
			    <svg id="rewards_chart" width="350" height="500"> </svg>
			</div>

		    </div>

		</td>
	    </tr>
	</table>
	
	<table border="1" style="width: 100%">
	    <tr> <th colspan="2"> Network Info </th> </tr>
	    <tr>
		<td>
		    <p id="net_market_cap">Market cap: </p>
		    <p id="net_min_baker_fee">Min baker fee: </p>
		    <p id="net_max_baker_fee">Max baker fee: </p>
		    <p id="net_avg_baker_fee">Avg baker fee: </p>
		</td>
		<td>
		    <p id="net_level">Current level: </p>
		    <p id="net_last_block">Latest block: </p>
		    <p id="net_last_baker">Last baker: </p>
		    <p id="net_blocks_last_hour"># Blocks baked in the last hr: </p>

		</td>
	    </tr>
	</table>
	<p id="time"> </p>
    </body>
    
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/cryptonomic/conseiljs/dist-web/conseiljs.min.js"
            integrity="sha384-IufW5flMmPmFPiUm4GlKLocLuEWZlGoCA5ukejQgI66LcXELSsraBP7dux+BE9Ds"
            crossorigin="anonymous">
    </script>

    <script src="assets/graphics.js"> </script>
    <script src="assets/networkConf.js"> </script>
    <script src="assets/tezosConstants.js"> </script>
    <script src="assets/index.js"> </script>
    <script src="assets/conseilQueries.js"> </script>
</html>
